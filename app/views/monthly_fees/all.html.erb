<h1>Todos os alunos</h1>
<div class=''>
  <table class="fs-9 mb-0 border-top border-translucent table">
    <thead>
      <tr>
        <th style="width: 30%">Nome</th>
        <th style="width: 7%">Valor</th>
        <th style="width: 7%">Vencimento</th>
        <th style="width: 7%">Status</th>
        <th style="width: 13%">Referente</th>
        <th style="width: 20%"></th>
        <th style="width: 5%"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <% @monthly_fees.each do |monthly_fee|  %>
          <tr>
            <td><%= monthly_fee.student.name %></td>
            <td><%= number_to_currency(monthly_fee.value, unit: "R$ ", separator: ",", delimiter: ".", precision: 2) %></td>
            <td><%= monthly_fee.due_date.strftime("%d/%m/%Y") %></td>
            <% if monthly_fee.status == 'Paga'   %>
              <td style="color: #0d6efd"><%= monthly_fee.status %></td>
            <% elsif monthly_fee.status == 'Atrasada' %>
              <td  style="color: #dc3545"><%= monthly_fee.status %></td>
              <% else %>
              <td  style="color: #6c757d"><%= monthly_fee.status %></td>
            <% end %>
            <td><%= monthly_fee.due_date_month_name %> / <%= monthly_fee.due_date_year %></td>
            <td style='flex: auto;display: flex;'>  
               <%= button_to 'Paga', update_paid_path(:items => {:id => monthly_fee.id, status: 'Paga'}), method: :patch, class:"btn btn-outline-primary btn-sm" %>
              <%= button_to 'A pagar', update_paid_path(:items => {:id => monthly_fee.id, status: 'A pagar'}), method: :patch, class:"btn btn-outline-secondary btn-sm mx-2" %>
              <%= button_to 'Atrasada', update_paid_path(:items => {:id => monthly_fee.id, status: 'Atrasada'}), method: :patch, class:"btn btn-outline-danger btn-sm" %>
            </td>
            <td><%= link_to 'Detalhes', student_monthly_fee_path(monthly_fee.student, monthly_fee) %></td>
          </tr>
        <% end %>
      </tr>
    </tbody>
  </table>
</div>